# Cloudflare Workers デプロイコマンドの修正

## 問題

Cloudflare Dashboardでデプロイコマンドを完全に削除できない場合、`/` などの無効なコマンドが設定され、`Permission denied` エラーが発生します。

## 解決方法

デプロイコマンドを完全に削除できない場合は、以下のいずれかの方法を使用してください：

### 方法1: 空のコマンドを設定（推奨）

デプロイコマンドフィールドに以下を設定：

```bash
echo "Deploy skipped - using wrangler.toml configuration"
```

または、より簡潔に：

```bash
true
```

### 方法2: コメントアウトされたコマンド

```bash
# Deploy command is handled by wrangler.toml
```

### 方法3: 無害なコマンド

```bash
echo "Build completed successfully"
```

## 重要な注意事項

- **デプロイコマンドは実際には実行されません**
- `wrangler.toml`の設定により、自動的にデプロイされます
- デプロイコマンドフィールドは、Cloudflareが要求するため、完全に空にできない場合があります

## 推奨設定

Cloudflare Dashboardでの設定：

- **Build command**: `npm run build:cloudflare`
- **Build output directory**: `.vercel/output/static`
- **Deploy command**: `true` または `echo "Deploy skipped"`
- **Root directory**: `/` (プロジェクトルート)

## wrangler.tomlの設定

`wrangler.toml`で以下が設定されていることを確認：

```toml
main = ".vercel/output/static/_worker.js/index.js"
assets = { directory = ".vercel/output/static" }
```

これにより、デプロイコマンドが実行されなくても、`wrangler.toml`の設定に基づいて自動的にデプロイされます。

